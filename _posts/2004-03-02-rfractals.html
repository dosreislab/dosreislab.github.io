---
layout: post
title:  "R fractals"
author: "Mario dos Reis"
---

<html>
<body>
<h1><a href="/assets/figs/blogistic.gif"><img src="/assets/figs/logistic.gif"
 title="" alt="Logistic equation"
 style="border: 0px solid ; width: 200px; height: 204px;"></a><a
 href="/assets/figs/blogistic.gif"><br>
</a>&nbsp;</h1>
<p>Just for the fun of it, and to see if it could be done, I started
playing with fractals in <a href="http://www.r-project.org">R</a>. I
was really surpised to see R's suitability for handling these
mathematical objects. In fact, the easiness of integrating C code with
R
and R's graphics capabilities makes R superbly fitted for this purpose
(perhaps even more than some 'professional' fractal generators).</p>
<p>This page contains some beautiful assets/figs created with R and the code
needed to generate them. Some functions are linked to C code, but don't
get scared! R's documentation contains plenty of material on how to
compile and use shared objects.<br>
</p>
<h1>The logistic equation</h1>
<p>There is a special case of the logistic equation of population
growth that shows some surprisingly complex behavior. This deceptively
simple function is</p>
<p>X<small>i+1</small> = r * X<small>i *</small> (1 - X<small>i</small>)<br>
</p>
<p>where X<small>i</small> is the relative population size at time <span
 style="font-style: italic;">i</span>, X<small>i+1</small>&nbsp;is the
size at the next generation and&nbsp; <span style="font-style: italic;">r</span>
is the&nbsp; growth rate.&nbsp;In this model X varies between 0 and 1. The interesting point here is that for <span
 style="font-style: italic;">r</span> values below ~3.5 the population
will reach a stationary size after many generations or will oscillate
between a set of fixed values; however, when <span
 style="font-style: italic;">r</span> is higher than ~3.5 the system
becomes chaotic and the population size will oscillate in a seemingly
random manner. The <a href="/assets/figs/blogistic.gif">picture</a> above
shows what happens to X after 50 or more generations under different <span
 style="font-style: italic;">r</span> values. The code to generate that
graph is here: <a href="/assets/code/logistic.R">logistic.R</a>.<br>
</p>
<h1>The Mandelbrot set</h1>
<p>Perhaps the most famous fractal set. It arises from a very simple
mathematical relationship</p>
<p>Z<small>i+1</small> = Z<small>i</small> * Z<small>i</small> + C<br>
</p>
<p>where<span style="font-style: italic;"></span> Z and C are complex
numbers (e.g. <span style="font-style: italic;">a + bi </span>). The
initial value of Z, Z<small>0</small> is equal to 0, and the value of C
is chosen arbitrarily. Then succesive iterations of the above equation
are calculated, and the evolution of Z is assesed. It can be
mathematically proved that if after certain number of iterations the
modulus of Z is greater than 2, then the value of Z will head off to
infinity. The Mandelbrot set is then defined as the set of points C in
the complex plane for which the iteration procedure is bound (i.e.
doesn't head off to infinity!). Bellow is a small galery of pictures
depicting different regions of the Mandelbrot set; points belonging to
the set are shown in black, and the rest are coloured according to the
number of iterations needed for |Z| &gt; 2.<br>
</p>
<a href="/assets/figs/mandel1.jpg"><img src="/assets/figs/smandel1.jpg"
 title="Click to enlarge" alt="Mandelbrot1"
 style="border: 0px solid ; width: 100px; height: 98px;" hspace="5"
 vspace="5"></a><a href="/assets/figs/mandel2.jpg"><img
 src="/assets/figs/smandel2.jpg" title="Click to enlarge" alt="Mandelbrot2"
 style="border: 0px solid ; width: 100px; height: 98px;" hspace="5"
 vspace="5"></a><a href="/assets/figs/mandel3.jpg"><img
 src="/assets/figs/smandel3.jpg" title="Click to enlarge" alt="Mandelbrot3"
 style="border: 0px solid ; width: 100px; height: 98px;" hspace="5"
 vspace="5"></a><a href="/assets/figs/mandel4.jpg"><img
 src="/assets/figs/smandel4.jpg" title="Click to enlarge" alt="Mandelbrot4"
 style="border: 0px solid ; width: 100px; height: 98px;" hspace="5"
 vspace="5"></a>
<p>The files needed to generate /assets/figs like the ones above are here: <a
 href="/assets/code/mandelbrot.zip">mandelbrot.zip</a><br>
</p>
<p> </p>
<hr style="width: 100%; height: 2px;"><small>Any question or comments
please e-mail me at_mariodosreis@yahoo.com <br>
I am willing to accept any kind of fractal stuff done with R!<br>
<strong>Update December 2016:</strong> The Mandelbrot set is now in my R fractal package:
<a href="https://github.com/mariodosreis/fractal">github.com/mariodosreis/fractal</a></small><br>
</body>
</html>
